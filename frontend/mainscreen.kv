ScreenManager:
    MainScreen:
    AddContactsScreen:
    EditProfileScreen:
    AboutUsScreen:

<MainScreen>:
    name: 'Main'
    BoxLayout:
        orientation: 'vertical'

        MDBottomNavigation:
            #color stuff
            panel_color: 31 / 255, 31 / 255, 31 / 255, 1
            elevation: 12
            font_name: "HelveticaWorld-Bold.ttf"
            selected_color_background: 0, 0, 1, 0

            MDBottomNavigationItem:
                name: 'screen 1'
                text: "Button"
                icon: 'shield'

                RelativeLayout:
                    MDIconButton: # TODO: For backend, implement a working button
                        icon: 'button.png'
                        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
                        icon_size: dp(230)
                        elevation: 12

                    MDLabel:
                        text: "PRESS BUTTON FOR EMERGENCY"
                        halign: 'center'
                        pos_hint: {'center_x': 0.5, 'top': 0.65}
                        bold:True
                        font_size: 20
                        font_name: "HelveticaWorld-Bold.ttf"

                    MDLabel:
                        text: "    Safety App"
                        pos_hint: {'center_y': 0.9}
                        bold:True
                        font_size: 30
                        font_name: "HelveticaWorld-Bold.ttf"

                    MDLabel:
                        text: "       Note the location service MUST BE ON"
                        pos_hint: {'center_y': 0.83}
                        font_size: 17
                        font_name: "HelveticaWorld-Regular.ttf"

                    MDLabel:
                        text: "       MAKE SURE YOU HAVE INTERNET ACCESS"
                        pos_hint: {'center_y': 0.795}
                        font_size: 17
                        font_name: "HelveticaWorld-Regular.ttf"

            MDBottomNavigationItem:
                name: 'screen 2'
                text: "Contacts"
                icon: 'contacts-outline'

                MDLabel:
                    text: "    Contacts"
                    pos_hint: {'center_y': 0.9}
                    bold:True
                    font_size: 30
                    font_name: "HelveticaWorld-Bold.ttf"

                MDIconButton:
                    icon: "plus-circle-outline"
                    style: "outlined"
                    theme_text_color: "Custom"
                    text_color: 'white'
                    theme_font_size: "Custom"
                    pos_hint: {'right': 0.985, 'bottom': 1}
                    icon_size: dp(50)
                    elevation: 12
                    on_press: root.manager.current = 'AddContacts'

            MDBottomNavigationItem:
                name: 'screen 3'
                text: "Map"
                icon: 'map-marker'

                MDLabel:
                    text: "    Location" # TODO: Implement a working gps system
                    pos_hint: {'center_y': 0.9}
                    bold:True
                    font_size: 30
                    font_name: "HelveticaWorld-Bold.ttf"

                BoxLayout:
                    orientation: 'vertical'
                    padding: "8dp"
                    spacing: "8dp"

                    BoxLayout:
                        orientation: 'horizontal'
                        pos_hint: {'top': 1}

                        MDIcon:
                            icon: "map-marker"
                            pos_hint: {'left': 0.8}
                            font_size: dp(35)
                            size_hint_x: None
                            width: 150
                            padding_y: 20
                            padding_x: 15

                        MDLabel:
                            text: "Location"
                            font_size: 20
                            font_name: "HelveticaWorld-Bold.ttf"
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding_y: 30

                        MDIconButton: # TODO: Implement a working switch button to ask to turn on the location services
                            icon: "toggle-switch"
                            style: "outlined"
                            pos_hint: {'right': 0.985}
                            icon_size: dp(50)
                            elevation: 12

                    MDCard:
                        style: "outlined"
                        orientation: 'vertical'
                        elevation: 10
                        size_hint_y: None
                        size: "400dp", "350dp"
                        pos_hint: {"center_x": .5, 'center_y': .4}

                        MapView:
                            id: map_view
                            lat: 15.98838593868359  # Latitude for your initial map position
                            lon: 120.57362818692708  # Longitude for your initial map position
                            zoom: 18  # Initial zoom level

                            MapMarker:
                                lat: 15.98838593868359
                                lon: 120.57362818692708

            MDBottomNavigationItem:
                name: 'screen 4'
                text: "Profile"
                icon: 'account-circle-outline'

                MDLabel:
                    text: "    Your Profile"
                    pos_hint: {'center_y': 0.9}
                    bold:True
                    font_size: 30
                    font_name: "HelveticaWorld-Bold.ttf"

                MDBoxLayout:
                    orientation: 'vertical'

                    MDIcon:
                        icon: "account-circle-outline"
                        pos_hint: {"center_x": .5}
                        font_size: dp(50)
                        size_hint_x: None
                        width: 200
                        padding_y: 15

                    MDLabel:
                        text: "Cid Kagenou" # TODO: Implement a backend here to take the name of the user BASED ON THEIR OWN LOGGED ACCOUNTS
                        halign: 'center'
                        bold: True
                        font_size: 25
                        font_name: "HelveticaWorld-Bold.ttf"
                        size_hint_y: None
                        height: self.texture_size[1]

                    MDLabel:
                        text: "09123456789" # TODO: Implement a backend here to take the number of the user BASED ON THEIR OWN LOGGED ACCOUNTS
                        halign: 'center'
                        bold: True
                        font_size: 15
                        font_name: "HelveticaWorld-Bold.ttf"
                        size_hint_y: None
                        height: self.texture_size[1]

                    Widget:
                        size_hint_y: None
                        height: 100

                    MDFillRoundFlatIconButton
                        text: '   Edit Profile             '
                        font_name: "HelveticaWorld-Bold.ttf"
                        icon: "pencil"
                        font_size: 30
                        pos_hint: {'center_x': 0.5}
                        md_bg_color: 31 / 255, 31 / 255, 31 / 255, 1
                        text_color: 1, 1, 1, 1  # White text color (RGBA)
                        icon_color: 1, 1, 1, 1  # White icon color (RGBA)
                        on_press: root.manager.current = 'EditProfile'

                    Widget:
                        size_hint_y: None
                        height: 15

                    MDFillRoundFlatIconButton
                        text: '    About Us                '
                        font_name: "HelveticaWorld-Bold.ttf"
                        icon: "information"
                        font_size: 30
                        pos_hint: {'center_x': 0.5}
                        md_bg_color: 31 / 255, 31 / 255, 31 / 255, 1
                        text_color: 1, 1, 1, 1  # White text color (RGBA)
                        icon_color: 1, 1, 1, 1  # White icon color (RGBA)
                        on_press: root.manager.current = 'AboutUs'
                    Widget:
                        size_hint_y: None
                        height: 15

                    MDFillRoundFlatIconButton
                        text: '   Log Out                  '
                        font_name: "HelveticaWorld-Bold.ttf"
                        icon: "logout"
                        font_size: 30
                        pos_hint: {'center_x': 0.5}
                        md_bg_color: 31 / 255, 31 / 255, 31 / 255, 1
                        text_color: 1, 1, 1, 1  # White text color (RGBA)
                        icon_color: 1, 1, 1, 1  # White icon color (RGBA)
                        on_release: app.logout_alert()

                    Widget:
                        size_hint_y: None
                        height: 70

<AddContactsScreen>
    name: 'AddContacts'

    MDBoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            specific_text_color: 1, 1, 1, 1
            title: "[font=HelveticaWorld-Bold.ttf]Add Contact[/font]"
            anchor_title: "left"
            font_name: "HelveticaWorld-Bold.ttf"
            type_height: "small"
            left_action_items: [["arrow-left", lambda x: setattr(root.manager, 'current', 'Main')]]
            right_action_items: [["check", lambda x: app.root.get_screen('AddContacts').get_data()]] # TODO: Button to add contacts
            md_bg_color: (18 / 255, 18 / 255, 18 / 255, 1)
            elevation: 0

        MDScrollView:  # Changed to MDScrollView

            MDBoxLayout:
                orientation: 'vertical'

                MDIcon:
                    icon: "account-circle-outline"
                    pos_hint: {"center_x": .5}
                    font_size: dp(50)
                    size_hint_x: None
                    width: 200

                MDLabel:
                    text: "Emergency Contact 1"
                    halign: 'center'
                    bold: True
                    font_size: 17
                    font_name: "HelveticaWorld-Bold.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 15

                MDTextField:
                    id: phone_number
                    hint_text: "Phone Number"
                    icon_left: 'phone'
                    size_hint_x: None
                    width: 250
                    font_size: 20
                    pos_hint: {"center_x": .5}
                    input_filter: "int"

                MDTextField:
                    id: name
                    hint_text: "Name (Optional)"
                    icon_left: 'account-circle-outline'
                    size_hint_x: None
                    width: 250
                    font_size: 20
                    pos_hint: {"center_x": .5}

                MDTextField:
                    id: email
                    hint_text: "Email (Optional)"
                    icon_left: 'email-outline'
                    size_hint_x: None
                    width: 250
                    font_size: 20
                    pos_hint: {"center_x": .5}

                Widget:
                    size_hint_y: None
                    height: 250

<EditProfileScreen>
    name: 'EditProfile'

    MDBoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            specific_text_color: 1, 1, 1, 1
            title: "[font=HelveticaWorld-Bold.ttf]Edit Profile[/font]"
            anchor_title: "left"
            font_name: "HelveticaWorld-Bold.ttf"
            type_height: "small"
            left_action_items: [["arrow-left", lambda x: setattr(root.manager, 'current', 'Main')]]
            right_action_items: [["check", lambda x: setattr(root.manager, 'current', 'Main')]] # TODO: Button to EDIT contacts
            md_bg_color: (18 / 255, 18 / 255, 18 / 255, 1)
            elevation: 0

        MDScrollView:  # Changed to MDScrollView

            MDBoxLayout:
                orientation: 'vertical'

                MDIcon:
                    icon: "account-circle-outline"
                    pos_hint: {"center_x": .5}
                    font_size: dp(50)
                    size_hint_x: None
                    width: 200

                MDTextField:
                    id: name
                    hint_text: "Your Name"
                    icon_left: 'rename'
                    size_hint_x: None
                    width: 250
                    font_size: 20
                    pos_hint: {"center_x": .5}
                    text: "Cid Kagenou" # TODO: Implement a code to change the displayed text on Profile Screen AND DATABASE based on this

                MDTextField:
                    id: phone_number
                    hint_text: "Phone Number"
                    icon_left: 'account-circle-outline'
                    size_hint_x: None
                    width: 250
                    font_size: 20
                    pos_hint: {"center_x": .5}
                    text: "09123456789" # TODO: Implement a code to change the displayed text on Profile Screen AND DATABASE based on this

                MDTextField:
                    id: email
                    hint_text: "Email (Optional)"
                    icon_left: 'email-outline'
                    size_hint_x: None
                    width: 250
                    font_size: 20
                    pos_hint: {"center_x": .5}

                Widget:
                    size_hint_y: None
                    height: 250

<AboutUsScreen>
    name: 'AboutUs'

    MDBoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            specific_text_color: 1, 1, 1, 1
            title: "[font=HelveticaWorld-Bold.ttf]About Us[/font]"
            anchor_title: "left"
            font_name: "HelveticaWorld-Bold.ttf"
            type_height: "small"
            left_action_items: [["arrow-left", lambda x: setattr(root.manager, 'current', 'Main')]]
            md_bg_color: (18 / 255, 18 / 255, 18 / 255, 1)
            elevation: 0

        MDScrollView:  # Changed to MDScrollView

            MDBoxLayout:
                orientation: 'vertical'

                MDIcon:
                    icon: "shield-account-outline" # Logo here
                    pos_hint: {"center_x": .5}
                    font_size: dp(70)
                    size_hint_x: None
                    width: 200

                MDLabel:
                    text: "Safety App"
                    halign: 'center'
                    bold: True
                    font_size: 45
                    font_name: "HelveticaWorld-Bold.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 10

                Widget:
                    size_hint_y: None
                    height: 50

                MDLabel:
                    text: "Our Team:"
                    halign: 'center'
                    bold: True
                    font_size: 30
                    font_name: "HelveticaWorld-Bold.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 10

                MDLabel:
                    text: "Antolin, Janel"
                    halign: 'center'
                    bold: True
                    font_size: 20
                    font_name: "HelveticaWorld-Regular.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 5

                MDLabel:
                    text: "Dela Cruz, Jeramelle"
                    halign: 'center'
                    font_size: 20
                    font_name: "HelveticaWorld-Regular.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 5

                MDLabel:
                    text: "Dela Cruz, Mi-ro"
                    halign: 'center'
                    font_size: 20
                    font_name: "HelveticaWorld-Regular.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 5

                MDLabel:
                    text: "Delgado, Revin Jay"
                    halign: 'center'
                    font_size: 20
                    font_name: "HelveticaWorld-Regular.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 5

                MDLabel:
                    text: "Olaera, Angela"
                    halign: 'center'
                    font_size: 20
                    font_name: "HelveticaWorld-Regular.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 5

                MDLabel:
                    text: "Sedanto, Jomari"
                    halign: 'center'
                    font_size: 20
                    font_name: "HelveticaWorld-Regular.ttf"
                    size_hint_y: None
                    height: self.texture_size[1]
                    padding_y: 5

                Widget:
                    size_hint_y: None
                    height: 100

